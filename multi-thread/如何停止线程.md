# 如何停止线程

## 普通情况下

<img src="如何停止线程_images/image-20200227095736219.png" alt="image-20200227095736219" style="zoom:67%;" />

## 阻塞的情况下

<img src="如何停止线程_images/image-20200227104418628.png" alt="image-20200227104418628" style="zoom:67%;" />

## 每次循环都有阻塞

如果这样做是停不下来异常的

<img src="如何停止线程_images/image-20200227105357465.png" alt="image-20200227105357465" style="zoom:67%;" />

加上了循环的检查

<img src="如何停止线程_images/image-20200227110328561.png" alt="image-20200227110328561" style="zoom:50%;" />

线程还是停止不下来,原因是java语言设计sleep()的时候,遇到异常处理会清除标志位,所以这里是检查不到的



**volatile**修饰的变量具有可见性,可见性可以先粗糙的理解为让所有线程都能看到真实的值