# 多线程笔记

## 实现多线程的方法

根据oracle官网所写,只有两种方法

### 实现runable接口的run方法,并把Runnable实例传给Thread类

这个方法更好

1. 资源节省,可以利用线程池
2. 可以再继承别的类
3. 解耦,继承就耦合了



### 继承Thread类,重写Thread的run方法

源码里,继承就覆盖了run方法



## 错误观点

无论是定时器,线程池,还是Callable,Future接口,本质都是包装了Runnable

## 正确的启动方法

start()源码解析

1. 启动新线程状态检查(不能连续两次start())
2. 加入线程组
3. 调用本地的native的start0()



## 如何正确停止

原理总结: 使用interrupt来通知,而不是强制.

1. 无睡眠的正确停止方法

``

```java
package com.bobozhazha.threadcoreknowledge.stopthreads;

public class RightWayStopThreadWithoutSleep implements Runnable{

    public static void main(String[] args) throws InterruptedException {
        Thread thread = new Thread(new RightWayStopThreadWithoutSleep());
        thread.start();
        Thread.sleep(100);
        thread.interrupt();
    }
    
    @Override
    public void run() {
        int num = 0;
        while (!Thread.currentThread().isInterrupted() && num <= Integer.MAX_VALUE / 2 ) {
            if (num % 10000 == 0) {
                System.out.println(num + "是10000的倍数");
            }
            num ++;
        }
        System.out.println("任务结束了");
    }
}
```

2. 有睡眠的停止

3. 关于中断

   1. 传递中断

      自己编写方法时候,

   2. 恢复中断

## 线程的状态

## Thread类和object的重要方法

## 线程的各个属性